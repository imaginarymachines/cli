{"version":3,"sources":["../../src/__TESTS__/config.test.js"],"sourcesContent":["const {getPluginMachineJson,appUrl,apiUrl} = require( '../lib/config');\nconst { join } = require( 'path' );\nconst pluginDir = join( __dirname, '../../');\n\n\ndescribe('getPluginMachineJson', () => {\n    it( 'Returns pluginId' , () => {\n        const pluginMachineJson = getPluginMachineJson(pluginDir);\n        expect(Number.isNaN(pluginMachineJson.pluginId)).toBe(false)\n\n    });\n\n    it( 'Returns buildId' , () => {\n        const pluginMachineJson = getPluginMachineJson(pluginDir);\n        expect(Number.isNaN(pluginMachineJson.buildId)).toBe(false)\n    });\n\n    it( 'overides pluginId' , () => {\n        const pluginMachineJson = getPluginMachineJson(pluginDir,{pluginId: 4312});\n        expect(pluginMachineJson.pluginId).toEqual(4312);\n        expect(Number.isNaN(pluginMachineJson.buildId)).toBe(false)\n    });\n\n    it( 'Returns buildId' , () => {\n        const pluginMachineJson = getPluginMachineJson(pluginDir,{buildId: 412});\n        expect(pluginMachineJson.buildId).toEqual(412);\n        expect(Number.isNaN(pluginMachineJson.pluginId)).toBe(false)\n    });\n\n\n\n\n})\n\ndescribe( 'appUrl and apiUrl', () => {\n    it( 'returns appUrl', () => {\n        expect( typeof getPluginMachineJson(pluginDir).appUrl).toEqual('string');\n        expect( appUrl('/api')).toEqual('https://pluginmachine.app/api');\n    });\n\n    it( 'returns appUrl if provided false for the URL', () => {\n        expect( typeof getPluginMachineJson(pluginDir,{appUrl: false}).appUrl).toEqual('string');\n        expect( appUrl('/api')).toEqual('https://pluginmachine.app/api');\n    });\n\n    it( 'Ovverides app url', () => {\n        const pluginMachineJson = getPluginMachineJson(pluginDir, {appUrl: 'http://localhost:3000'})\n        expect( pluginMachineJson.appUrl).toEqual('http://localhost:3000')\n        expect( appUrl('/api')).toEqual('http://localhost:3000/api');\n    });\n\n    test( 'apiUrl', () => {\n        expect( apiUrl('/spoons')).toEqual('http://localhost:3000/api/v1/spoons');\n    });\n})\n"],"names":["getPluginMachineJson","appUrl","apiUrl","require","join","pluginDir","__dirname","describe","it","pluginMachineJson","expect","Number","isNaN","pluginId","toBe","buildId","toEqual","test"],"mappings":";AAAA,KAAK,CAAC,CAACA,CAAAA,oBAAoB,GAACC,MAAM,GAACC,MAAM,EAAA,CAAC,GAAGC,OAAO,CAAE,CAAe;AACrE,KAAK,CAAC,CAAC,CAACC,IAAI,EAAC,CAAC,GAAGD,OAAO,CAAE,CAAM;AAChC,KAAK,CAACE,SAAS,GAAGD,IAAI,CAAEE,SAAS,EAAE,CAAQ;AAG3CC,QAAQ,CAAC,CAAsB,2BAAQ,CAAC;IACpCC,EAAE,CAAE,CAAkB,uBAAS,CAAC;QAC5B,KAAK,CAACC,iBAAiB,GAAGT,oBAAoB,CAACK,SAAS;QACxDK,MAAM,CAACC,MAAM,CAACC,KAAK,CAACH,iBAAiB,CAACI,QAAQ,GAAGC,IAAI,CAAC,KAAK;IAE/D,CAAC;IAEDN,EAAE,CAAE,CAAiB,sBAAS,CAAC;QAC3B,KAAK,CAACC,iBAAiB,GAAGT,oBAAoB,CAACK,SAAS;QACxDK,MAAM,CAACC,MAAM,CAACC,KAAK,CAACH,iBAAiB,CAACM,OAAO,GAAGD,IAAI,CAAC,KAAK;IAC9D,CAAC;IAEDN,EAAE,CAAE,CAAmB,wBAAS,CAAC;QAC7B,KAAK,CAACC,iBAAiB,GAAGT,oBAAoB,CAACK,SAAS,EAAC,CAACQ;YAAAA,QAAQ,EAAE,IAAI;QAAA,CAAC;QACzEH,MAAM,CAACD,iBAAiB,CAACI,QAAQ,EAAEG,OAAO,CAAC,IAAI;QAC/CN,MAAM,CAACC,MAAM,CAACC,KAAK,CAACH,iBAAiB,CAACM,OAAO,GAAGD,IAAI,CAAC,KAAK;IAC9D,CAAC;IAEDN,EAAE,CAAE,CAAiB,sBAAS,CAAC;QAC3B,KAAK,CAACC,iBAAiB,GAAGT,oBAAoB,CAACK,SAAS,EAAC,CAACU;YAAAA,OAAO,EAAE,GAAG;QAAA,CAAC;QACvEL,MAAM,CAACD,iBAAiB,CAACM,OAAO,EAAEC,OAAO,CAAC,GAAG;QAC7CN,MAAM,CAACC,MAAM,CAACC,KAAK,CAACH,iBAAiB,CAACI,QAAQ,GAAGC,IAAI,CAAC,KAAK;IAC/D,CAAC;AAKL,CAAC;AAEDP,QAAQ,CAAE,CAAmB,wBAAQ,CAAC;IAClCC,EAAE,CAAE,CAAgB,qBAAQ,CAAC;QACzBE,MAAM,CAAE,MAAM,CAACV,oBAAoB,CAACK,SAAS,EAAEJ,MAAM,EAAEe,OAAO,CAAC,CAAQ;QACvEN,MAAM,CAAET,MAAM,CAAC,CAAM,QAAGe,OAAO,CAAC,CAA+B;IACnE,CAAC;IAEDR,EAAE,CAAE,CAA8C,mDAAQ,CAAC;QACvDE,MAAM,CAAE,MAAM,CAACV,oBAAoB,CAACK,SAAS,EAAC,CAACJ;YAAAA,MAAM,EAAE,KAAK;QAAA,CAAC,EAAEA,MAAM,EAAEe,OAAO,CAAC,CAAQ;QACvFN,MAAM,CAAET,MAAM,CAAC,CAAM,QAAGe,OAAO,CAAC,CAA+B;IACnE,CAAC;IAEDR,EAAE,CAAE,CAAmB,wBAAQ,CAAC;QAC5B,KAAK,CAACC,iBAAiB,GAAGT,oBAAoB,CAACK,SAAS,EAAE,CAACJ;YAAAA,MAAM,EAAE,CAAuB;QAAA,CAAC;QAC3FS,MAAM,CAAED,iBAAiB,CAACR,MAAM,EAAEe,OAAO,CAAC,CAAuB;QACjEN,MAAM,CAAET,MAAM,CAAC,CAAM,QAAGe,OAAO,CAAC,CAA2B;IAC/D,CAAC;IAEDC,IAAI,CAAE,CAAQ,aAAQ,CAAC;QACnBP,MAAM,CAAER,MAAM,CAAC,CAAS,WAAGc,OAAO,CAAC,CAAqC;IAC5E,CAAC;AACL,CAAC"}